{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-center\",\n  style: {\n    \"height\": \"100vh\"\n  }\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-center fst-italic\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\"Please wait while the ticket is being generated. \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\" Do not refresh the page.\")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_empty_state = _resolveComponent(\"v-empty-state\");\n  const _component_v_progress_circular = _resolveComponent(\"v-progress-circular\");\n  const _component_v_overlay = _resolveComponent(\"v-overlay\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" <v-btn append-icon=\\\"mdi-open-in-new\\\" color=\\\"deep-purple-accent-4\\\" @click=\\\"overlay = !overlay\\\">\\r\\n            Launch Application\\r\\n        </v-btn> \"), _ctx.error ? (_openBlock(), _createBlock(_component_v_empty_state, {\n    key: 0,\n    \"action-text\": \"Retry Request\",\n    image: \"https://cdn.vuetifyjs.com/docs/images/components/v-empty-state/connection.svg\",\n    text: \"There might be a problem with your connection or our servers. Please check your internet connection or try again later. We appreciate your patience.\",\n    title: \"Something Went Wrong\",\n    \"onClick:action\": $options.getTicket\n  }, null, 8 /* PROPS */, [\"onClick:action\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_overlay, {\n    \"model-value\": _ctx.overlay,\n    class: \"align-center justify-center\",\n    persistent: \"\"\n  }, {\n    default: _withCtx(() => [!_ctx.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_v_progress_circular, {\n      color: \"primary\",\n      size: \"64\",\n      indeterminate: \"\"\n    })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" <div v-else>Something went wrong. <a href=\\\"#\\\" @click.prevent=\\\"getTicket\\\">Retry</a> </div> \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model-value\"])]);\n}","map":{"version":3,"names":["class","style","key","_createElementVNode","_createTextVNode","_createElementBlock","_hoisted_1","_createCommentVNode","_ctx","error","_createBlock","_component_v_empty_state","image","text","title","$options","getTicket","_createVNode","_component_v_overlay","overlay","persistent","default","_withCtx","_hoisted_2","_hoisted_3","_component_v_progress_circular","color","size","indeterminate","_"],"sources":["D:\\Documents\\ticket-booking\\Museum-completed\\src\\components\\LoadingPage.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"text-center\" style=\"height: 100vh;\">\r\n        <!-- <v-btn append-icon=\"mdi-open-in-new\" color=\"deep-purple-accent-4\" @click=\"overlay = !overlay\">\r\n            Launch Application\r\n        </v-btn> -->\r\n        <v-empty-state action-text=\"Retry Request\" v-if=\"error\"\r\n            image=\"https://cdn.vuetifyjs.com/docs/images/components/v-empty-state/connection.svg\"\r\n            text=\"There might be a problem with your connection or our servers. Please check your internet connection or try again later. We appreciate your patience.\"\r\n            title=\"Something Went Wrong\" @click:action=\"getTicket\"></v-empty-state>\r\n        <v-overlay :model-value=\"overlay\" class=\"align-center justify-center\" persistent>\r\n            <div class=\"text-center fst-italic \" v-if=\"!error\">\r\n                <p>Please wait while the ticket is being generated. <br> Do not refresh the page.</p>\r\n                <v-progress-circular color=\"primary\" size=\"64\" indeterminate></v-progress-circular>\r\n            </div>\r\n\r\n            <!-- <div v-else>Something went wrong. <a href=\"#\" @click.prevent=\"getTicket\">Retry</a> </div> -->\r\n        </v-overlay>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n    export default {\r\n        data: () => ({\r\n            overlay: true,\r\n            error:false\r\n    }),\r\n\r\n    // watch: {\r\n    //     overlay(val) {\r\n    //     val && setTimeout(() => {\r\n    //         this.overlay = false\r\n    //     }, 3000)\r\n    // },\r\n    // },\r\n    computed: {\r\n        payId() {\r\n            return this.$store.getters.getPayment;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getTicket();\r\n    },\r\n    methods: {\r\n        async getTicket() {\r\n            try {\r\n                this.error = false;\r\n                this.overlay = true;\r\n                const response2 = await axios.post(`${this.$store.getters.getUrl}/api/qr/book`, { \"paymentid\": this.payId });\r\n                if (response2.status === 200) {\r\n                   \r\n                    this.$store.commit('setQR', response2.data);\r\n                    console.log('session',sessionStorage.getItem('payment_id'))\r\n                    this.$router.push('/ticket')\r\n                }\r\n            }\r\n            catch (err) {\r\n                this.error = true;\r\n                this.overlay = false\r\n                console.error(err)\r\n            }\r\n        }\r\n    }\r\n  }\r\n</script>\r\n"],"mappings":";;EAESA,KAAK,EAAC,aAAa;EAACC,KAAsB,EAAtB;IAAA;EAAA;;;EAF7BC,GAAA;EAWiBF,KAAK,EAAC;;gCACPG,mBAAA,CAAqF,Y,aAZrGC,gBAAA,CAYmB,mDAAiD,G,aAAAD,mBAAA,CAAI,O,aAZxEC,gBAAA,CAYwE,2BAAyB,E;;;;;uBAV7FC,mBAAA,CAgBM,OAhBNC,UAgBM,GAfFC,mBAAA,gKAEY,EACqCC,IAAA,CAAAC,KAAK,I,cAAtDC,YAAA,CAG2EC,wBAAA;IATnFT,GAAA;IAMuB,aAAW,EAAC,eAAe;IACtCU,KAAK,EAAC,+EAA+E;IACrFC,IAAI,EAAC,sJAAsJ;IAC3JC,KAAK,EAAC,sBAAsB;IAAE,gBAAY,EAAEC,QAAA,CAAAC;iDATxDT,mBAAA,gBAUQU,YAAA,CAOYC,oBAAA;IAPA,aAAW,EAAEV,IAAA,CAAAW,OAAO;IAAEnB,KAAK,EAAC,6BAA6B;IAACoB,UAAU,EAAV;;IAV9EC,OAAA,EAAAC,QAAA,CAWY,MAGM,C,CAHsCd,IAAA,CAAAC,KAAK,I,cAAjDJ,mBAAA,CAGM,OAHNkB,UAGM,GAFFC,UAAqF,EACrFP,YAAA,CAAmFQ,8BAAA;MAA9DC,KAAK,EAAC,SAAS;MAACC,IAAI,EAAC,IAAI;MAACC,aAAa,EAAb;YAb/DrB,mBAAA,gBAgBYA,mBAAA,mGAAkG,C;IAhB9GsB,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}