{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"text-start pt-5\"\n}, \"Please enter a valid mobile number to book tickets.\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_snackbar = _resolveComponent(\"v-snackbar\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_v_snackbar, {\n    modelValue: $data.snackbar,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.snackbar = $event),\n    color: $data.color,\n    location: \"center\",\n    \"multi-line\": \"\",\n    \"max-width\": \"500\",\n    \"min-width\": \"300\"\n  }, {\n    actions: _withCtx(() => [_createVNode(_component_v_btn, {\n      color: \"black\",\n      variant: \"text\",\n      onClick: _cache[0] || (_cache[0] = $event => $data.snackbar = false)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" Close \")]),\n      _: 1 /* STABLE */\n    })]),\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($data.message) + \" \", 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\", \"color\"]), _hoisted_1, _createVNode(_component_v_form, {\n    ref: \"form\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_text_field, {\n      modelValue: $data.mobile,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.mobile = $event),\n      color: \"teritiary\",\n      placeholder: \"Enter your Mobile Number\",\n      \"prepend-inner-icon\": \"mdi-cellphone\",\n      variant: \"underlined\",\n      class: \"mb-4\",\n      rules: $data.mobRules,\n      required: \"\"\n    }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_btn, {\n      block: \"\",\n      height: \"40\",\n      color: \"green-darken-4\",\n      class: \"bg-gradient\",\n      onClick: $options.validate,\n      disabled: !$data.isMobileValid || $data.buttonDisabled,\n      loading: $data.buttonDisabled\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Generate OTP\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\", \"disabled\", \"loading\"])]),\n    _: 1 /* STABLE */\n  }, 512 /* NEED_PATCH */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_createElementBlock","_Fragment","_createVNode","_component_v_snackbar","modelValue","$data","snackbar","_cache","$event","color","location","actions","_withCtx","_component_v_btn","variant","onClick","default","_createTextVNode","_","_toDisplayString","message","_hoisted_1","_component_v_form","ref","_component_v_text_field","mobile","placeholder","rules","mobRules","required","block","height","$options","validate","disabled","isMobileValid","buttonDisabled","loading"],"sources":["D:\\Documents\\ticket-booking\\Museum-completed\\src\\components\\MobileEnter.vue"],"sourcesContent":["<template>\r\n  <v-snackbar v-model=\"snackbar\" :color=\"color\" location=\"center\" multi-line max-width=\"500\" min-width=\"300\">\r\n    {{ message }}\r\n    <template v-slot:actions>\r\n      <v-btn color=\"black\" variant=\"text\" @click=\"snackbar = false\">\r\n        Close\r\n      </v-btn>\r\n    </template>\r\n  </v-snackbar>\r\n  <p class=\"text-start pt-5\">Please enter a valid mobile number to book tickets.</p>\r\n  <v-form ref=\"form\">\r\n    <v-text-field v-model=\"mobile\" color=\"teritiary\" placeholder=\"Enter your Mobile Number\"\r\n      prepend-inner-icon=\"mdi-cellphone\" variant=\"underlined\" class=\"mb-4\" :rules=\"mobRules\" required></v-text-field>\r\n    <v-btn block height=\"40\" color=\"green-darken-4\" class=\"bg-gradient\" @click=\"validate\"\r\n      :disabled=\"!isMobileValid || buttonDisabled\" :loading=\"buttonDisabled\">Generate OTP</v-btn>\r\n  </v-form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      mobile: null,\r\n      snackbar: false,\r\n      color: '',\r\n      message: 'info',\r\n      mobRules: [\r\n        value => {\r\n          if (value) return true;\r\n          return 'Mobile is required.';\r\n        },\r\n        value => {\r\n          if (/^\\d+$/.test(value)) return true;\r\n          return 'Only digits allowed.';\r\n        },\r\n        value => {\r\n          if ((value?.length === 10) && (/^[6-9]\\d{9}$/.test(value))) return true;\r\n          return 'Enter a valid 10 digit number.';\r\n        }],\r\n      isMobileValid: false,\r\n      buttonDisabled: false\r\n    }\r\n  },\r\n  watch: {\r\n    mobile(value) {\r\n      // Check mobile number validity on change\r\n      this.isMobileValid = this.mobRules.every(rule => rule(value) === true);\r\n    }\r\n  },\r\n  methods: {\r\n    async validate() {\r\n      try {\r\n        const { valid } = await this.$refs.form.validate()\r\n        if (valid) {\r\n          try {\r\n            this.buttonDisabled = true;\r\n          const success = await this.$store.dispatch('generateOtp', this.mobile);\r\n            if (success) {\r\n              this.buttonDisabled = false;\r\n              \r\n            this.$router.push('/otp');\r\n          }\r\n          }\r\n          catch (err) {\r\n            console.error(err);\r\n            this.message = err.response? err.response.data.message : err.message;\r\n            this.color= \"danger\"\r\n            this.snackbar = true;\r\n            this.buttonDisabled = false;\r\n          }\r\n        }\r\n      }\r\n      catch (error) {\r\n        console.error('Error fetching user details', error);\r\n        this.buttonDisabled = false;\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>"],"mappings":";gCASEA,mBAAA,CAAkF;EAA/EC,KAAK,EAAC;AAAiB,GAAC,qDAAmD;;;;;;uBAThFC,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAOaC,qBAAA;IARfC,UAAA,EACuBC,KAAA,CAAAC,QAAQ;IAD/B,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IACuBH,KAAA,CAAAC,QAAQ,GAAAE,MAAA;IAAGC,KAAK,EAAEJ,KAAA,CAAAI,KAAK;IAAEC,QAAQ,EAAC,QAAQ;IAAC,YAAU,EAAV,EAAU;IAAC,WAAS,EAAC,KAAK;IAAC,WAAS,EAAC;;IAElFC,OAAO,EAAAC,QAAA,CACtB,MAEQ,CAFRV,YAAA,CAEQW,gBAAA;MAFDJ,KAAK,EAAC,OAAO;MAACK,OAAO,EAAC,MAAM;MAAEC,OAAK,EAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEH,KAAA,CAAAC,QAAQ;;MAJ1DU,OAAA,EAAAJ,QAAA,CAIoE,MAE9D,CANNK,gBAAA,CAIoE,SAE9D,E;MANNC,CAAA;;IAAAF,OAAA,EAAAJ,QAAA,CAEI,MAAa,CAFjBK,gBAAA,CAAAE,gBAAA,CAEOd,KAAA,CAAAe,OAAO,IAAG,GACb,gB;IAHJF,CAAA;8CASEG,UAAkF,EAClFnB,YAAA,CAKSoB,iBAAA;IALDC,GAAG,EAAC;EAAM;IAVpBP,OAAA,EAAAJ,QAAA,CAWI,MACiH,CADjHV,YAAA,CACiHsB,uBAAA;MAZrHpB,UAAA,EAW2BC,KAAA,CAAAoB,MAAM;MAXjC,uBAAAlB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAW2BH,KAAA,CAAAoB,MAAM,GAAAjB,MAAA;MAAEC,KAAK,EAAC,WAAW;MAACiB,WAAW,EAAC,0BAA0B;MACrF,oBAAkB,EAAC,eAAe;MAACZ,OAAO,EAAC,YAAY;MAACf,KAAK,EAAC,MAAM;MAAE4B,KAAK,EAAEtB,KAAA,CAAAuB,QAAQ;MAAEC,QAAQ,EAAR;sDACzF3B,YAAA,CAC6FW,gBAAA;MADtFiB,KAAK,EAAL,EAAK;MAACC,MAAM,EAAC,IAAI;MAACtB,KAAK,EAAC,gBAAgB;MAACV,KAAK,EAAC,aAAa;MAAEgB,OAAK,EAAEiB,QAAA,CAAAC,QAAQ;MACjFC,QAAQ,GAAG7B,KAAA,CAAA8B,aAAa,IAAI9B,KAAA,CAAA+B,cAAc;MAAGC,OAAO,EAAEhC,KAAA,CAAA+B;;MAd7DpB,OAAA,EAAAJ,QAAA,CAc6E,MAAY,CAdzFK,gBAAA,CAc6E,cAAY,E;MAdzFC,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}