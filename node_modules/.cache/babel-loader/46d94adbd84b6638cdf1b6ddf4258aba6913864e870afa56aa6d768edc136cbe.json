{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data: () => ({\n    overlay: true,\n    error: false\n  }),\n  // watch: {\n  //     overlay(val) {\n  //     val && setTimeout(() => {\n  //         this.overlay = false\n  //     }, 3000)\n  // },\n  // },\n  computed: {\n    payId() {\n      return this.$store.getters.getPayment;\n    }\n  },\n  mounted() {\n    this.getTicket();\n  },\n  methods: {\n    async getTicket() {\n      try {\n        this.error = false;\n        this.overlay = true;\n        const response2 = await axios.post(`${this.$store.getters.getUrl}/api/qr/book`, {\n          \"paymentid\": this.payId\n        });\n        if (response2.status === 200) {\n          this.$store.commit('setQR', response2.data);\n          console.log('session', sessionStorage.getItem('payment_id'));\n          this.$router.push('/ticket');\n        }\n      } catch (err) {\n        this.error = true;\n        this.overlay = false;\n        console.error(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","overlay","error","computed","payId","$store","getters","getPayment","mounted","getTicket","methods","response2","post","getUrl","status","commit","console","log","sessionStorage","getItem","$router","push","err"],"sources":["D:\\Documents\\ticket-booking\\Museum-completed\\src\\components\\LoadingPage.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"text-center\" style=\"height: 100vh;\">\r\n        <!-- <v-btn append-icon=\"mdi-open-in-new\" color=\"deep-purple-accent-4\" @click=\"overlay = !overlay\">\r\n            Launch Application\r\n        </v-btn> -->\r\n        <v-empty-state action-text=\"Retry Request\" v-if=\"error\"\r\n            image=\"https://cdn.vuetifyjs.com/docs/images/components/v-empty-state/connection.svg\"\r\n            text=\"There might be a problem with your connection or our servers. Please check your internet connection or try again later. We appreciate your patience.\"\r\n            title=\"Something Went Wrong\" @click:action=\"getTicket\"></v-empty-state>\r\n        <v-overlay :model-value=\"overlay\" class=\"align-center justify-center\" persistent>\r\n            <div class=\"text-center fst-italic \" v-if=\"!error\">\r\n                <p>Please wait while the ticket is being generated. <br> Do not refresh the page.</p>\r\n                <v-progress-circular color=\"primary\" size=\"64\" indeterminate></v-progress-circular>\r\n            </div>\r\n\r\n            <!-- <div v-else>Something went wrong. <a href=\"#\" @click.prevent=\"getTicket\">Retry</a> </div> -->\r\n        </v-overlay>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n    export default {\r\n        data: () => ({\r\n            overlay: true,\r\n            error:false\r\n    }),\r\n\r\n    // watch: {\r\n    //     overlay(val) {\r\n    //     val && setTimeout(() => {\r\n    //         this.overlay = false\r\n    //     }, 3000)\r\n    // },\r\n    // },\r\n    computed: {\r\n        payId() {\r\n            return this.$store.getters.getPayment;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getTicket();\r\n    },\r\n    methods: {\r\n        async getTicket() {\r\n            try {\r\n                this.error = false;\r\n                this.overlay = true;\r\n                const response2 = await axios.post(`${this.$store.getters.getUrl}/api/qr/book`, { \"paymentid\": this.payId });\r\n                if (response2.status === 200) {\r\n                   \r\n                    this.$store.commit('setQR', response2.data);\r\n                    console.log('session',sessionStorage.getItem('payment_id'))\r\n                    this.$router.push('/ticket')\r\n                }\r\n            }\r\n            catch (err) {\r\n                this.error = true;\r\n                this.overlay = false\r\n                console.error(err)\r\n            }\r\n        }\r\n    }\r\n  }\r\n</script>\r\n"],"mappings":";AAsBA,OAAOA,KAAI,MAAO,OAAO;AACrB,eAAe;EACXC,IAAI,EAAEA,CAAA,MAAO;IACTC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAC;EACd,CAAC,CAAC;EAEF;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,QAAQ,EAAE;IACNC,KAAKA,CAAA,EAAG;MACJ,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAACC,UAAU;IACzC;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,SAAS,CAAC,CAAC;EACpB,CAAC;EACDC,OAAO,EAAE;IACL,MAAMD,SAASA,CAAA,EAAG;MACd,IAAI;QACA,IAAI,CAACP,KAAI,GAAI,KAAK;QAClB,IAAI,CAACD,OAAM,GAAI,IAAI;QACnB,MAAMU,SAAQ,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAE,GAAE,IAAI,CAACP,MAAM,CAACC,OAAO,CAACO,MAAO,cAAa,EAAE;UAAE,WAAW,EAAE,IAAI,CAACT;QAAM,CAAC,CAAC;QAC5G,IAAIO,SAAS,CAACG,MAAK,KAAM,GAAG,EAAE;UAE1B,IAAI,CAACT,MAAM,CAACU,MAAM,CAAC,OAAO,EAAEJ,SAAS,CAACX,IAAI,CAAC;UAC3CgB,OAAO,CAACC,GAAG,CAAC,SAAS,EAACC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;UAC1D,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,SAAS;QAC/B;MACJ,EACA,OAAOC,GAAG,EAAE;QACR,IAAI,CAACpB,KAAI,GAAI,IAAI;QACjB,IAAI,CAACD,OAAM,GAAI,KAAI;QACnBe,OAAO,CAACd,KAAK,CAACoB,GAAG;MACrB;IACJ;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}